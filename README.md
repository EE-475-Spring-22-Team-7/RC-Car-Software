# RC Car Software

This folder contains all of the files related to the software on the STM32F4 Microcontroller. An example project 
template was made under the IAR Embedded Workbench IDE. Initialization files were generated by STM32CubeMx software package.
See instructions below on how to open and edit source code files:

## Instructions: How to open IAR project
1. Install IAR IDE
2. DO NOT INSTALL IAR FROM COURSE WEBSITE. Install it from IAR directly. Otherwise, it will NOT work. You need latest version
    for FreeRTOS plugin to work. https://www.iar.com/products/architectures/arm/iar-embedded-workbench-for-arm/#switchblock_18191_1
3. When you download select the 'Code Size Limited' mode.
4. In the installation wizard, make sure to un-select the 'Dongle Drivers' 
5. Finish the installation
6. Pull a copy of the folders (with contents): 'Core', 'Drivers', 'EWARM', and 'Middlewares'
7. In IAR IDE, click "Open Workspace"
8. Open the 'EWARM' folder
9. Select 'Project.eww' and open
10. Make sure the correct current project is showing by clicking on the desired project at the bottom of the Project Manager window
11. Select the correct version of the project at the top of the Project Manager window
12. You're set to start editing
13. Most of the user code will happen in the source files located under the 'User' folder. **NOTE** You can also edit the header
    files which will need to be opened manually from file explorer. 

## Structure of project:
There are multiple folders in the project. The main ones to be concerned with are under the 'User' folder. This is where you will 
find 'main.c' and several others such as 'freertos.c', for defining rtos tasks and queues, and 'stm32f4xx_it.c', for the ISR
definitions, among others. The 'EWARM' folder holds the startup files for the STM32 microcontroller. The 'Drivers' folder holds
the API for various functions you may use. The 'Middlewares' folder holds the API for FreeRTOS. **NOTE** to use FreeRTOS API you will 
need to go through the CMSIS RTOS API defined in 'cmsis_os.c'. See examples of task and queue definition in 'freertos.c'. 

## How to generate intialization files:
The initialization files were generated using STM32CubeMX. To open the project that generated the files held here just open
the 'TestingInitialization_STM32F4.ioc' inside the software package. **NOTE** you need to change code generation settings to 
ensure that work does not get deleted. This template is what generates the files and project setup under the IAR IDE. 
